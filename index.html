<!DOCTYPE html> 
<html> 
<head> 
	<title>My Page</title> 
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0-beta.1/jquery.mobile-1.3.0-beta.1.min.css" />
	<style>
	.ui-dialog-background {
	opacity: 0.5;
	display: block !important;
	-webkit-transition: opacity 0.5s ease-in;
	}
	 
	.ui-dialog-background.pop.in {
	opacity: 1;
	-webkit-transition: opacity 0.5s ease-in;
	}
	 
	.ui-dialog {
	min-height: 100% !important;
	background: transparent !important;
	}
	</style>
	<script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.3.0-beta.1/jquery.mobile-1.3.0-beta.1.min.js"></script>
	<script src="http://d3js.org/d3.v2.js?2.9.1"></script>
	<script>
	$(document).ready(function(){
		var svg = d3.select("svg");
		
		var g = svg.append("g")
				.attr("id","test-group");
		var radius = 20;
		g.append("circle")
		 .attr("cx",100)
		 .attr("cy",100)
		 .attr("r",radius)
		 .attr("fill","black")
		 .on("mouseover", function() {
				d3.select(this).transition()
				.attr("r", function() { return radius+10; })
				.delay(0.25)
				.duration(2000)
				  .ease("elastic", 1, 0.1);
          })
		 .on("mouseout", function() {
			d3.select(this).transition()
			.attr("r", function() { return radius; })
			.delay(0)
			.duration(2000)
   		  .ease("elastic", 1, 0.1)});
		 
		 g.append("text")
		 .attr("x",50)
		 .attr("y",150)
		 .text(function(){
			 $.getJSON("data.json",
			function(data){
			 return data.identity; 
			})
		});
		
		$(function() {
			$('div[data-role="dialog"]').live('pagebeforeshow', function(e, ui) {
				ui.prevPage.addClass("ui-dialog-background ");
			});
			$('div[data-role="dialog"]').live('pagehide', function(e, ui) {
				$(".ui-dialog-background ").removeClass("ui-dialog-background ");
			});
		});
		
	</script>
	
	<style>
		text{
		  font: 100 20px "Helvetica Neue";
		  fill: black;
		}
	</style>
	
</head> 
<body> 

<div data-role="page">

	<div data-role="header">
		<h1>The Voyage</h1>
	</div><!-- /header -->

	<div data-role="content">	
		<svg xmlns="http://www.w3.org/2000/svg"
			 xmlns:xlink="http://www.w3.org/1999/xlink"
			 viewBox="0 0 300 300" width="100%" height="100%">
			
		</svg>
	</div><!-- /content -->

	<a href="popDialog.html" data-role="button" data-inline="true" data-rel="dialog" data-transition="pop">Open dialog</a>
	
</div><!-- /page -->

</body>
</html>